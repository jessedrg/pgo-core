datasource postgres {
  provider = "postgresql"
  url      = env("POSTGRESQL_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  createdAt DateTime @default(now())
  firstName String?
  id        String   @id @default(cuid())
  lastName  String?
  password  String
  roles     String[]
  updatedAt DateTime @updatedAt
  username  String   @unique
}

model Offer {
  createdAt   DateTime         @default(now())
  customNo    String?          @unique
  id          String           @id @default(cuid())
  publishedAt DateTime?
  status      EnumOfferStatus?
  updatedAt   DateTime         @updatedAt
}

model Account {
  active        Boolean?
  configuration Json?
  createdAt     DateTime @default(now())
  email         String   @unique
  id            String   @id @default(cuid())
  updatedAt     DateTime @updatedAt
}

model Part {
  createdAt         DateTime        @default(now())
  id                String          @id @default(cuid())
  parts             Int?
  process           String?
  quantities        Json?
  status            EnumPartStatus?
  surface           Float?
  updatedAt         DateTime        @updatedAt
  visible           Boolean?
  volume            Float?
  volumeBoundingBox Float?
  volumeChips       Float?
  x                 Float?
  y                 Float?
  z                 Float?
}

model PartConfiguration {
  colorFinish  String?
  createdAt    DateTime @default(now())
  finish       String?
  hardness     String?
  id           String   @id @default(cuid())
  material     String?
  materialType String?
  tech         String?
  tolerance    Float?
  updatedAt    DateTime @updatedAt
  weight       Float?
}

model PartOnShape {
  createdAt DateTime @default(now())
  did       String?
  eid       String?
  id        String   @id @default(cuid())
  updatedAt DateTime @updatedAt
  wid       String?
}

model Quote {
  completedAt DateTime?
  createdAt   DateTime          @default(now())
  id          String            @id @default(cuid())
  status      EnumQuoteStatus[]
  updatedAt   DateTime          @updatedAt
}

model QuoteItem {
  basePrices       Float?
  constructionType String?
  createdAt        DateTime             @default(now())
  id               String               @id @default(cuid())
  margins          Float?
  prices           Float?
  productionDays   Int?
  quantities       Int?
  status           EnumQuoteItemStatus?
  updatedAt        DateTime             @updatedAt
}

model Production {
  createdAt     DateTime              @default(now())
  discomformity Boolean?
  id            String                @id @default(cuid())
  status        EnumProductionStatus?
  updatedAt     DateTime              @updatedAt
}

model ProductionItem {
  createdAt       DateTime @default(now())
  id              String   @id @default(cuid())
  quantity        Int?
  shippedQuantity Int?
  updatedAt       DateTime @updatedAt
}

model MediaFile {
  createdAt DateTime @default(now())
  id        String   @id @default(cuid())
  type      String?
  updatedAt DateTime @updatedAt
  url       String?
}

model Provider {
  createdAt      DateTime @default(now())
  currency       String?
  dateFormat     String?
  id             String   @id @default(cuid())
  name           String?
  rating         Float?
  ratingData     Json?
  shippmentDates Int?
  technologies   Json?
  typeson        String?
  updatedAt      DateTime @updatedAt
  workingDays    Json?
}

model Order {
  billingAddress  Json?
  comment         String?
  createdAt       DateTime         @default(now())
  customNo        String?
  estimatedDays   Int?
  fees            Json?
  id              String           @id @default(cuid())
  shippingaddress Json?
  state           EnumOrderState[]
  subtotal        Float?
  taxes           Json?
  total           Float?
  updatedAt       DateTime         @updatedAt
}

model Organization {
  createdAt DateTime @default(now())
  id        String   @id @default(cuid())
  name      String?
  updatedAt DateTime @updatedAt
}

model OrderItem {
  createdAt DateTime @default(now())
  id        String   @id @default(cuid())
  price     Float?
  quantity  Int?
  total     Float?
  updatedAt DateTime @updatedAt
}

model Agent {
  createdAt DateTime @default(now())
  id        String   @id @default(cuid())
  updatedAt DateTime @updatedAt
  zones     Json?
}

model Address {
  company      String?
  country      String?
  createdAt    DateTime @default(now())
  firstName    String?
  id           String   @id @default(cuid())
  lastName     String?
  locality     String?
  phone        String?
  phonePrefix  String?
  postalCode   String?
  state        String?
  street       String?
  streetNumber String?
  type         String?
  updatedAt    DateTime @updatedAt
  vat          String?
}

model Shipment {
  courier        String?
  createdAt      DateTime            @default(now())
  declaredValues Float?
  delayedAt      DateTime?
  deliveredAt    DateTime?
  estimatedAt    DateTime?
  id             String              @id @default(cuid())
  partial        Boolean?
  realtedId      String?
  relatedType    String?
  shippedAt      DateTime?
  status         EnumShipmentStatus?
  tracking       String?
  trackingUrl    String?
  updatedAt      DateTime            @updatedAt
}

model Payment {
  createdAt         DateTime           @default(now())
  id                String             @id @default(cuid())
  status            EnumPaymentStatus?
  transactionId     String?
  transactionUserId String?
  updatedAt         DateTime           @updatedAt
}

model AccountPaymentMethod {
  createdAt DateTime @default(now())
  data      Json?
  id        String   @id @default(cuid())
  type      String?
  updatedAt DateTime @updatedAt
}

model Invite {
  active    Boolean?
  createdAt DateTime  @default(now())
  email     String?   @unique
  expiresAt DateTime?
  id        String    @id @default(cuid())
  updatedAt DateTime  @updatedAt
}

model Session {
  authMethod   String?
  createdAt    DateTime @default(now())
  id           String   @id @default(cuid())
  sessionToken String?
  updatedAt    DateTime @updatedAt
}

model Holiday {
  createdAt DateTime @default(now())
  day       Int?
  id        String   @id @default(cuid())
  updatedAt DateTime @updatedAt
}

model PartMessage {
  createdAt   DateTime @default(now())
  id          String   @id @default(cuid())
  message     String?
  messageType String?
  type        String?
  updatedAt   DateTime @updatedAt
}

enum EnumOfferStatus {
  draft
  pending
  publish
  rejected
}

enum EnumPartStatus {
  draft
  pending
  rejected
  publish
}

enum EnumQuoteStatus {
  pending
  completed
  canceled
  rejected
}

enum EnumQuoteItemStatus {
  pending
  completed
  rejected
  canceled
}

enum EnumProductionStatus {
  pending
  processing
  shipped
  quality
  completed
  canceled
  rejected
}

enum EnumOrderState {
  onHold
  failed
  processing
  production
  quality
  shipped
  completed
  cancelled
  refound
}

enum EnumShipmentStatus {
  pending
  OnTransit
  delivered
}

enum EnumPaymentStatus {
  pending
  completed
  rejected
}